<!-- Wappler include head-page="layouts/cliente" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="areadocliente" appConnect="local" components="{dmxBootstrap5TableGenerator:{},dmxFormatter:{},dmxBootstrap5Offcanvas:{},dmxDataTraversal:{}}" -->
<dmx-data-detail id="data_inauguracao" dmx-bind:data="inauguracoes.data.query_inauguracao" key="id_inauguracao"></dmx-data-detail>
<div class="container-xxl">
    <div class="row mb-3 p-2 text-white">
        <div class="col bg-success p-3 rounded-3">
            <h4 class="text-center m-0">Fila de atendimento</h4>
            <h1 class="text-center">{{listar_senha.data.query[0].nome_loja}}</h1>
            <h1 class="text-center texto-senha">Senha: {{listar_senha.data.query[0].senha}}</h1>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="d-flex mb-3">
                <div class="input-group">
                    <select class="form-select" id="regional" aria-label="Example select with button addon" dmx-bind:options="regionais.data.query_regionais" optiontext="nome_regional" optionvalue="id_regional" name="regional">
                        <option selected="" value="">Escolha a localidade</option>
                    </select>
                    <button class="btn btn-primary btn-lg" type="button" dmx-on:click="inauguracoes.load({id_regional: regional.selectedValue},true)">Selecionar</button>
                </div>
            </div>


        </div>
    </div>
    <div class="row" is="dmx-repeat" id="repeat_inauguracao" dmx-bind:repeat="inauguracoes.data.query_inauguracao" key="id_inauguracao" dmx-show="!inauguracoes.data.query_inauguracao.isEmpty()">
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title fw-bold m-0">{{nome_loja}}</h4>
                    <p class="card-text">{{cidade}} | {{uf}}</p>
                    <p class="card-text">{{"Endere√ßo: "+endereco_completo}}</p>
                    <div class="d-flex justify-content-between flex-column" is="dmx-repeat" id="repeat1" dmx-bind:repeat="ofertas.data.query_ofertas" key="id_inaug_produto">
                        <div class="d-flex flex-row justify-content-between w-100 py-3 gap-3" id="card_produto">
                            <div class="d-flex flex-column justify-content-center" id="dados_produto">
                                <h5>{{nome_produto}}</h5>
                                <p class="m-0">{{limite_por_pessoa}} produto por CPF. Por apenas R${{valor}}</p>
                            </div>
                            <div class="d-flex" id="preco_produto">
                                <img class="img-fluid" width="64" height="64" dmx-bind:src="'https://sgi.rodriguescolchoes.com.br/'+url_imagens">
                            </div>
                        </div>

                    </div>

                </div>
                <div class="card-footer gap-3"><a class="btn btn-primary me-3" data-bs-target="undefined" dmx-on:click="ofertas.load({id_inauguracao: id_inauguracao})">Ver ofertas</a>
                    <a class="btn btn-primary" data-bs-target="undefined" dmx-on:click="senha_atendimento.load({inauguracao: id_inauguracao, cliente: usuario_logado.data.identity})">Gerar minha senha</a>
                </div>

            </div>
        </div>
    </div>

</div>
<meta name="ac:route" content="/security/f/area-do-cliente">