<!doctype html>
<html lang="pt-br">

<head>
  <base href="/">
  <script src="/dmxAppConnect/dmxAppConnect.js"></script>
  <meta charset="UTF-8">
  <title>Área do cliente</title>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="/bootstrap/5/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/css/style.css" />
  <script src="/dmxAppConnect/dmxRouting/dmxRouting.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxNotifications/dmxNotifications.css" />
  <script src="/dmxAppConnect/dmxNotifications/dmxNotifications.js" defer></script>
  <script src="/dmxAppConnect/dmxBrowser/dmxBrowser.js" defer></script>
  <script src="/dmxAppConnect/dmxFormatter/dmxFormatter.js" defer></script>
  <link rel="stylesheet" href="/dmxAppConnect/dmxBootstrap5TableGenerator/dmxBootstrap5TableGenerator.css" />
  <script src="/dmxAppConnect/dmxBootstrap5Offcanvas/dmxBootstrap5Offcanvas.js" defer></script>
  <script src="/dmxAppConnect/dmxDataTraversal/dmxDataTraversal.js" defer></script>
</head>

<body is="dmx-app" id="cliente">
  <div is="dmx-browser" id="browser1"></div>
  <dmx-notifications id="notifies1"></dmx-notifications>
  <dmx-serverconnect id="usuario_logado" url="/api/cliente/indetificar-cliente"></dmx-serverconnect>
  <dmx-serverconnect id="regionais" url="/api/listar-regionais"></dmx-serverconnect>
  <dmx-serverconnect id="inauguracoes" noload="true" url="/api/listar-inauguracoes"></dmx-serverconnect>
  <dmx-serverconnect id="ofertas" url="/api/ofertas" noload="true"></dmx-serverconnect>
  <dmx-serverconnect id="senha_atendimento" url="/api/gerar-senha" noload="true" dmx-on:error="notifies1.danger('OPS, ocorreu um erro! Entre em contato com nosso time!')" dmx-on:success="run([{condition:{outputType:'boolean',if:`senha_atendimento.data.resposta==\'Você já está cadastrado nesta inauguração!\'`,then:{steps:{run:{outputType:'text',action:`notifies1.warning(senha_atendimento.data.resposta)`}}}}},{condition:{outputType:'boolean',if:`senha_atendimento.data.resposta==\'Parabéns! Você agora faz parte da nossa história. Sua senha foi criada com sucesso!\'`,then:{steps:[{run:{outputType:'text',action:`notifies1.success(\'Parabéns! Você agora faz parte da nossa história. Sua senha foi criada com sucesso!\')`}},{wait:{delay:2000}},{run:{outputType:'text',action:`browser1.reload()`}}]}}}])"></dmx-serverconnect>
  <dmx-serverconnect id="listar_senha" url="/api/listar-senha"></dmx-serverconnect>
  <style>
    :root {
      --rc-primary: #0d6efd;
      --rc-primary-light: #3a86ff;
      --rc-ink: #0F172A;
      --rc-bg: #F6F7FB;
      --rc-card: #FFFFFF;
      --rc-radius: 16px;
      --rc-shadow: 0 6px 18px rgba(15, 23, 42, .06);
    }

    /* Header simples azul */
    .rc-header {
      position: sticky;
      top: 0;
      z-index: 1030;
      background: linear-gradient(135deg, var(--rc-primary) 0%, var(--rc-primary-light) 100%);
      color: #fff;
      padding: calc(env(safe-area-inset-top, 0) + 12px) 16px 12px;
      box-shadow: var(--rc-shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .rc-header .welcome {
      font-size: 16px;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .rc-header .btn-logout {
      border: none;
      padding: 8px 14px;
      font-weight: 600;
      font-size: 14px;
      border-radius: 999px;
      background: rgba(255, 255, 255, .18);
      color: #fff;
      transition: background .2s;
    }

    .rc-header .btn-logout:hover {
      background: rgba(255, 255, 255, .28);
    }
  </style>

  <!-- HEADER SIMPLES -->
  <header class="rc-header">
    <div class="welcome">
      Bem-vindo, {{usuario_logado.data.identity.nome}}
    </div>
    <button class="btn-logout" dmx-on:click="logout.run()">Sair</button>
  </header>


  <main is="dmx-view" id="content" class="mt-4">
    <%- await include(content, locals); %>
  </main>
  <script src="/bootstrap/5/js/bootstrap.bundle.min.js"></script>
</body>

</html>